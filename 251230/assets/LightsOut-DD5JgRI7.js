import{r as h,K as j,z as f,f as a,o as i,g as d,t as z,F as x,aj as _,n as b,k as B}from"./modules/vue-B18hUNx2.js";import{u as L}from"./slidev/context-CSY4xn5V.js";const A={class:"flex flex-col items-center gap-2"},E={class:"flex justify-between items-center w-full text-sm"},F={class:"font-semibold"},G=["onClick"],$={__name:"LightsOut",props:{size:{type:Number,default:3,validator:n=>n>=2&&n<=100},cellSize:{type:String,default:"w-8 h-8 sm:w-10 sm:h-10"}},setup(n){L();const e=n,r=h([]),m=h(0),g=()=>{r.value=Array.from({length:e.size},()=>Array.from({length:e.size},()=>0))};g(),j(()=>e.size,()=>{p()});const w=f(()=>/w-(1[6-9]|[2-9]\d)/.test(e.cellSize)),y=f(()=>w.value?"gap-4 p-4":"gap-2 p-2"),C=f(()=>e.cellSize),k=()=>{for(let t=0;t<e.size;t++)for(let s=0;s<e.size;s++)if(t===0&&s===0){if(r.value[t][s]!==1)return!1}else if(r.value[t][s]!==0)return!1;return!0},S=(t,s)=>{[[0,0],[-1,0],[1,0],[0,-1],[0,1]].forEach(([c,u])=>{const l=t+c,o=s+u;l>=0&&l<e.size&&o>=0&&o<e.size&&(r.value[l][o]=r.value[l][o]===0?1:0)}),m.value+=1,k()&&setTimeout(()=>{alert("恭喜成功！")},200)},p=()=>{g(),m.value=0};return(t,s)=>(i(),a("div",A,[d("div",E,[d("div",F," 步数: "+z(m.value),1),d("button",{class:"px-2 py-1 bg-emerald-500 text-white font-semibold rounded-lg hover:bg-emerald-600 transition-colors",onClick:p}," 重置 ")]),d("div",{class:b(["grid rounded-2xl shadow-xl bg-emerald-300",y.value]),style:B({gridTemplateColumns:`repeat(${n.size}, minmax(0, 1fr))`})},[(i(!0),a(x,null,_(r.value,(v,c)=>(i(),a("div",{key:c,class:"contents"},[(i(!0),a(x,null,_(v,(u,l)=>(i(),a("div",{key:l,class:b(["flex items-center justify-center text-2xl font-bold rounded-lg cursor-pointer transition-all duration-300 transform active:scale-90",C.value,u===1?"bg-green-600 text-white shadow-inner":"bg-emerald-100 text-emerald-800 hover:bg-emerald-200"]),onClick:o=>S(c,l)},z(u),11,G))),128))]))),128))],6)]))}};export{$ as _};
