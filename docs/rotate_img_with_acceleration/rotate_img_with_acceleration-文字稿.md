欢迎回到汉斯的频道
我们必须想象，做题人是幸福的
今天分享如何用manim制作够赞边旋转边加速的动画
也许有同学会说，这种简单任务
扔给LLM，不会编程、没有双手都能轻松做
真的是这样吗？
我们打开DeepSeek，随手写下屏幕里的提示词
轻松拿到了二维的旋转加速代码
这里建议读读代码，了解代码的思路
后面扩展代码功能时，才不会被LLM带沟里
manim代码主要用到add updater传入回调函数
为了在动画的多次更新之间记录动画的各种状态
我们需要用到ValueTracker类
实现一次旋转很简单，传入旋转角、旋转轴和旋转中心就行
求旋转角时，我们没有彻底模拟匀加速运动
而是把v-t图像的一条直线简化为了多段速度突变的横线
至此，一切都很简洁、美好

我们照常运行代码发现
等待编译更加煎熬了
这是因为，如果代码里用到了add updater
缓存功能就会基本失效
几乎只有完全相同的代码才能命中缓存

接下来开始支持三维旋转加速
LLM开始把我们带沟里了
无奖竞猜：你会选哪位老师生成的代码？

DeepSeek生成的代码就是无脑照抄上一版代码
然后改旋转轴为Y轴
虽然代码肉眼可见的烂
但至少是正常跑的
通义千问的代码就是经典逆天幻觉了
这里友情纠正下通义千问
因为三维空间包含二维平面
把manim实现成不需要继承ThreeDScene
也能正常运行的样子是应该的

接下来科普下为什么DeepSeek能够蒙对
无脑把旋转轴改为Y轴就能从外向里转
首先简单介绍下manim的三维坐标轴
一张图胜过千言万语
源码定义的变量也可以辅助理解

manim的rotate方法是怎么实现的？
一句话，左乘旋转矩阵
如果你在搜索引擎搜旋转矩阵
会发现有两个版本，一个是屏幕里的
另一个是对矩阵里所有的sine取相反数
为什么会有这样的差别？
我看还没人讲过这个问题，这里就简单科普下
屏幕里定义的角度正方向是用右手定则确定的
看着屏幕里的图片，动动右手，就能确定角度的正方向了

虽然通义千问是错的，但我确实好奇继承ThreeDScene的效果
对比运行效果发现，继承Scene的版本无抖动
继承ThreeDScene的版本有抖动感，看着更带劲
目前还不清楚为什么会有这种差别

在用DeepSeek写三维旋转加速代码时
它还给了我一个所谓的“更有戏剧性”的效果
我有点好奇，就试了试，发现效果不正常
就问它什么脑回路
原来它只是想要通过左乘旋转矩阵来实现旋转
但前面我们已经介绍过，这就是rotate方法的原理
所以用LLM的时候，最好还是审下代码
可以先让其他LLM审，但人最好也读下
免得被LLM的幻觉带沟里

最后是点睛之笔：实现申鹤最爱的计时器
这个功能很简单，如果比较熟悉add updater方法
我们手打能比写提示词还快
这里可能会踩坑：创建更新后的文本时
除文本外的所有属性，必须和定义时完全一致

这里是完整代码的传送门
感兴趣的同学可以看看

最后说说这个PPT的旋转纳西妲是怎么做的
过程挺曲折的，这里空白太小，写不下
就先简单讲讲，后面单独拆一篇博客出来
左边是写提示词，然后整理代码拿到的版本，右边是最终版本
这两段代码的关系，只能说，它们都是vue3代码

为什么在slidev里封装一个图片组件这么麻烦？
你说得对，但是《Slidev》是Anthony Fu自主研发的
一款全新开源演示文稿框架
它诞生于一个被称作「前端娱乐圈」的幻想世界
在这里，被Vue3+Vite选中的人将被授予slidev命令行工具
导引Markdown之力
你将扮演一位名为「演讲者」的神秘角色
在自由的创作中邂逅风格各异、狂拽炫酷的前端特效们
和它们一起击败PowerPoint的垄断
找回失散的前端工程师岗位
同时，逐步发掘「前端已4」的真相

我是汉斯，我正致力于为做题人的精神自留地添砖加瓦
喜欢这期视频的话，别忘了一键三连哦
谢谢观看~
