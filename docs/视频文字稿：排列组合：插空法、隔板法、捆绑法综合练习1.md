大佬们好久不见，欢迎回到我的频道
我们必须想象，做题人是幸福的
我是汉斯，大龄做题人一枚
这次换了个童声旁白
因为小朋友都会数数
而大龄做题人汉斯大学打了3年acm
却连数数题都不会写
今天我们讨论的是数数题中插空法、隔板法和捆绑法的综合练习
一题多解，干货多多，一定要看到最后喔

如果想要入门排列组合
相比于这个视频，题源视频是更好的选择
这个视频主要是通过展示几道题目的多种解法
来帮同学们更深刻地理解数数的基本方法
个人认为，要用好数数的各个方法
主要是靠扎实的分类讨论功底
而分类讨论的能力只能在题目中锻炼
所以我们在此只简单介绍这几种方法
剩下的精力都用来展示题目的多种解法
每种解法都理解后再回来看简介，学习效果会更好
最后还会告诉大家怎么写代码来验证自己想法的正确性
捆绑法非常符合直觉，在此不赘述
在要求不相邻时都可以考虑插空法
做法是先有一个基础排列，然后在空隙中插入元素
值得强调的是，插空法先排谁都可以
只要你有能力算出答案，八仙过海，各显神通嘛~

隔板法是一个套路模型
求解的问题是是把n个相同的球分给m个不同的人
用数学语言说就是m个变量加起来等于n
变量只能取自然数
对于这种最简单的情况
想象有m减1个相同隔板隔开这n个球
且隔板之间可以相邻
这就相当于在 n+m减1 个相同空位中
选 m减1 个作为隔板
所以方案数就是这个
如果变量只有大于等于几的限制
那么只需要把下界减掉就能转化为上面的情况
不过对于每个变量都大于等于1的特殊情况
还有另一种理解方式
就是在n减1个空位中选m减1个作为隔板

这里展示了一道例题
可以暂停视频算一下，强化肌肉记忆
如果变量有上界限制，就需要容斥了
这里空位太小，以后再慢慢做视频讨论了
还有一种衍生模板题，在这里也先不讲
感兴趣的同学可以看我这篇二一年写的博客
这几种做法并不是水火不容的
它们往往会一起出现
大家在后面的7道题中慢慢体会吧

第一题
先排委员，然后小学生相当于在5个空位中选3个排列
把两个排列数乘起来就做完了

第二题
有两种插空法和一种正难则反
法1是先排好其他，再插D
无论C在哪，D都是3种插入方案
这就做完了
法2是C和D一起考虑
C和D不能相邻，所以需要在4个空位中选2个
就是6种方案
法3是正难则反
被减去的方案数是捆绑了两个小团体，这就做完了
相比于前两种做法，法3更简单

第三题
两侧完全一样，所以只需要求一侧的方案数
要求柏树不相邻
相当于在4棵松树的5个空位里选3个空位插入柏树
方案数 C 5 3 等于10，答案就是100

第四题
和T2类似，有两种插空法和一种正难则反
法1是正难则反
AB绑起来的方案数减去ABC小团体的方案数就是答案
ABC小团体里，A必须在中间才能同时相邻
法2是先排好其他，再插C
分类讨论发现，无论AB在哪，C能插的空位都是3个
最后插AB的分类讨论和这个类似
我们不妨归为同一种做法

法3是类比T2的法2想到的
分两类讨论：AB和C占不同和同一空位
占不同空位，方案数是 A 3 2 乘2
占同一空位，就和法1类似
形成ABC小团体，方案数是2乘3
所以总方案数是2乘(12+6)等于36

第五题
同样有两种插入顺序
先排黄花，就相当于在5个空位里选3个放红花
先排红花，就设4个空位各放多少黄花
这里只有下界限制
减去下界就得到标准的隔板法模型
套公式也得到答案10

第六题
同样有两种插入顺序
先排苹果，就和上一题先排红花一样
减去下界拿到标准的隔板法模型
最后记得对车全排列
先排汽车，就和上一题先排黄花一样
同学们发现了吗？T5和T6几乎是同一题，只是题干用了不同名词

第七题
正难则反很容易想，一个捆绑法就解决了
但建议同学们看看法2和法3
对把握插空法和隔板法大有好处
法2先排女职工
分别设4个空位的男性数量
则限制是不能全聚在同一个空位
套隔板法公式，再减去不合法的4种情况
得到16，最后6乘16乘6得576

法3先排男职工
则限制是 x2+x3 不为0
还是考虑正难则反
得到 x2+x3=0 ，就是 x1+x4=3
这就是另一个标准的隔板法模型
方案数4，然后跟法2一样得到16
后面过程就都跟法2一样了
PPT右侧给了段JS代码
复制粘贴到浏览器控制台回车运行
就能确保我做法是对的
代码用了深度优先搜索（dfs）来枚举所有情况
以前做这种验证工作只能靠编程功底
现在能动嘴说，连代码都不用改就直接做完了

我是汉斯，我正致力于为做题人的精神自留地添砖加瓦
喜欢这期视频的话，别忘了一键三连哦
谢谢观看~
