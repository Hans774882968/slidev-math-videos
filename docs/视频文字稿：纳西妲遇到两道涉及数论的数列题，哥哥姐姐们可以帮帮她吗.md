旅行者，你来得正是时候。
方才，我在世界树的一隅整理知识时
突然有两道调皮的数列题从书页里蹦出来
拦住了我的去路
它们一边转圈一边冲我做鬼脸说
小吉祥草王，听说你能读懂世间一切知识
那能不能解开我们身上的数论之谜？
如果答不出，今晚的净善宫可要熄灯咯！
我尝试用寻常的理解去触碰它们，却发现它们的结构深处
交织着更为深刻的数论法则
看来，需要更为专注的旅行者的智慧才能将其厘清
不过，我似乎已经看到了通往答案的路径
旅行者，我们一起来解开它们吧

首先是第一题
经验告诉我们，这种递推式只需要构造出等比数列就能轻松解决
我们猜测a n+大A乘n+大B是等比数列
所以我们想到了待定系数法
就像为一株歪斜的藤蔓搭上支架，让它沿着我们期望的方向生长
经过简单整理，我们得到了屏幕里加粗的递推式
对比题干递推式的系数，我们就解出了大A和大B
于是，数列a n+3n−2便如一株依照固定比例生长的藤蔓
首项a1+1，公比3分之5，这样我们就解出了a n的通项公式
要让a n为整数，必须让分母被分子完全吸纳
又因为3和5互素，所以a1+1要完全吸纳掉分母
所以为了满足题意，要满足a1+1是3的114513次方的倍数
但不是3的114514次方的倍数，这题就做完了
你看，数列的整数性，竟由初始值中3的幂次精准控制
犹如一颗种子的结构早已决定了未来枝叶的数量

接着是第二题
这题形式看似更为复杂，但有了上一题的经验
我们猜测，只要循着同样的道标
先求出通项公式，再分析整除问题，秩序便会显现
这题的通项公式有两种做法
法1和上一题类似，用待定系数法求解
我们猜测a n+k倍的3分之4的n次方是等比数列
经过简单整理，我们写出了屏幕里加粗的递推式
对比题干递推式的系数，我们就解出了k
于是我们拿到了等比数列
首项2分之3倍x+1，公比2分之3
这样我们就解出了a n的通项公式

接下来是法2
我们希望把递推式整理成这种线性差分方程的样子
这样就能直接累加求出通项公式了
我们注意到，a n+1和a n的系数只差一个2分之3
这里说的个数1，刚好等于它们的下标差
所以我们对等式两边同时除以2分之3的n次方就能拿到b n啦
你发现了吗？b n就是这样一个式子
最后我们套上面的公式累加就能得到答案啦~

这里的计算量比法1大一点点
我们需要先写出等比数列求和公式
然后把式子整理成常数加上若干倍9分之8的n次方的形式
最后再用b n求出a n
如果你发现结果和法1不同，不妨回到上一步
检查一下是否有小数点或符号像迷路的小精灵一样跑错了位置

要让a t为整数，必须让两项的分母都被分子完全吸纳
所以x+1是2的t次方的倍数，x-1是3的t次方的倍数都要满足
但第t+1项不是整数，所以x+1是2的t+1次方的倍数
和x-1是3的t+1次方的倍数，至少有一条不满足
2的t次方和3的t次方互素
所以前两条同余方程可以通过古老的中国剩余定理优雅地融合
就像两股不同的清泉，最终汇入同一片湖泊
最后记得手动验证是否满足第三个条件即可

没学过数论的旅行者可能会问，中国剩余定理是什么？
简单来说，它就像一位高超的调停者
能同时满足多个互不冲突的模数条件
让我们解出屏幕里展示的线性同余方程组
方程组里的m1到m k是两两互素的
我们设总模数除掉小m i为大M i
于是小m i和大M i是互素的
裴蜀定理告诉我们，这时大M i存在唯一的乘法逆元y i
满足大M i乘y i模小m i为1
那么再给它乘上a i，不就满足第i条方程了吗？
我们再把它们都加起来，也就满足所有方程啦~

不了解中国剩余定理的旅行者一样可以写完这题
大语言模型训练过很多算法题，所以它完全有能力写这题的代码
屏幕的左边是提示词和运行结果，右边是大语言模型给我的代码
对这段计算之舞细节感兴趣的旅行者，随时可以向我询问~

今晚，净善宫的星光不会黯淡，世界树也多了一圈新的年轮
感谢你的陪伴，旅行者！
愿知识的根须不断延伸，而你探索的道路上
永远有智慧的微光与惊喜的发现相伴
