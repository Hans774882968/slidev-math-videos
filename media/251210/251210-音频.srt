1
00:00:00,000 --> 00:00:01,000
旅行者

2
00:00:01,000 --> 00:00:02,620
你来的正是时候

3
00:00:02,620 --> 00:00:06,380
方才，我在世界树的一隅整理知识时

4
00:00:06,380 --> 00:00:10,110
突然有两道调皮的数列题从书页里蹦出来

5
00:00:10,110 --> 00:00:11,620
拦住了我的去路

6
00:00:11,620 --> 00:00:14,820
它们一边转圈一边冲我做鬼脸说

8
00:00:14,820 --> 00:00:16,170
小吉祥草王

9
00:00:16,170 --> 00:00:18,930
听说你能读懂世间一切知识

10
00:00:18,930 --> 00:00:21,930
那能不能解开我们身上的数论之谜？

11
00:00:21,930 --> 00:00:25,390
如果答不出，今晚的净善宫可要熄灯咯！

13
00:00:25,390 --> 00:00:30,520
我尝试用寻常的理解去触碰它们，却发现它们的结构深处

15
00:00:30,520 --> 00:00:33,110
交织着更为深刻的数论法则

16
00:00:33,110 --> 00:00:37,740
看来，需要更为专注的旅行者的智慧才能将其厘清

18
00:00:37,740 --> 00:00:41,390
不过，我似乎已经看到了通往答案的路径

19
00:00:41,390 --> 00:00:44,220
旅行者，我们一起来解开它们吧

20
00:00:44,220 --> 00:00:45,580
首先是第一题

21
00:00:45,580 --> 00:00:46,960
经验告诉我们

22
00:00:46,960 --> 00:00:51,420
这种递推式只需要构造出等比数列就能轻松解决

23
00:00:51,420 --> 00:00:55,870
我们猜测a_n、n和1的线性组合是等比数列

24
00:00:55,870 --> 00:00:58,560
所以我们想到了待定系数法

25
00:00:58,560 --> 00:01:04,019
就像为一株歪斜的藤蔓搭上支架，让它沿着我们期望的方向生长

27
00:01:04,019 --> 00:01:05,440
经过简单整理

28
00:01:05,440 --> 00:01:10,440
我们得到了屏幕里加粗的递推式，对比题干递推式的系数

30
00:01:10,440 --> 00:01:12,560
我们就解出了大A和大B

31
00:01:12,560 --> 00:01:16,600
于是，b_n便如一株依照固定比例生长的藤蔓

32
00:01:16,600 --> 00:01:20,320
首项a1+1，公比5/3

33
00:01:20,320 --> 00:01:24,710
我们解出b_n，相当于求出了a_n的通项公式

35
00:01:24,710 --> 00:01:29,230
要让a_n为整数，必须让分母被分子完全吸纳

37
00:01:29,230 --> 00:01:31,140
又因为3和5互素

38
00:01:31,140 --> 00:01:35,030
所以a1+1要完全吸纳掉分母

39
00:01:35,030 --> 00:01:36,760
所以为了满足题意

40
00:01:36,760 --> 00:01:41,530
要满足a1+1是3的114513次方的倍数

41
00:01:41,530 --> 00:01:44,970
但不是3的114514次方的倍数

42
00:01:44,970 --> 00:01:46,370
这题就做完了

43
00:01:46,370 --> 00:01:48,580
你看，数列的整数性

44
00:01:48,580 --> 00:01:51,450
竟由初始值中3的幂次精准控制

45
00:01:51,450 --> 00:01:55,720
犹如一颗种子的结构，早已决定了未来枝叶的数量

47
00:01:55,720 --> 00:01:57,150
接着是第二题

48
00:01:57,150 --> 00:01:59,540
这题形式看似更为复杂

49
00:01:59,540 --> 00:02:01,300
但有了上一题的经验

50
00:02:01,300 --> 00:02:04,310
我们猜测，只要循着同样的道标

51
00:02:04,310 --> 00:02:05,990
先求出通项公式

52
00:02:05,990 --> 00:02:07,630
再分析整除问题

53
00:02:07,630 --> 00:02:09,220
秩序便会显现

54
00:02:09,220 --> 00:02:12,020
这题的通项公式有两种做法

55
00:02:12,020 --> 00:02:13,780
法1和上一题类似

56
00:02:13,780 --> 00:02:15,810
用待定系数法求解

57
00:02:15,810 --> 00:02:20,570
我们猜测 a_n 和 (4/3)^n 的线性组合是等比数列

59
00:02:20,570 --> 00:02:21,930
经过简单整理

60
00:02:21,930 --> 00:02:28,660
我们写出了屏幕里加粗的递推式，对比题干递推式的系数，我们就解出了k

62
00:02:28,660 --> 00:02:30,730
于是我们拿到了等比数列

63
00:02:30,730 --> 00:02:34,530
首项3/2倍x+1，公比3/2

65
00:02:34,530 --> 00:02:37,450
这样我们就解出了a_(n)的通项公式

66
00:02:37,450 --> 00:02:38,780
接下来是法2

67
00:02:38,780 --> 00:02:43,320
我们希望把递推式整理成这种线性差分方程的样子

68
00:02:43,320 --> 00:02:46,360
这样就能直接累加求出通项公式了

69
00:02:46,360 --> 00:02:52,220
我们注意到数列第n项和第n+1项的系数只差一个3/2

71
00:02:52,220 --> 00:02:55,890
这里说的个数1，刚好等于它们的下标差

72
00:02:55,890 --> 00:03:01,160
所以我们对等式两边同时除以3/2的n次方就能拿到b_(n)了

74
00:03:01,160 --> 00:03:02,320
你发现了吗

75
00:03:02,320 --> 00:03:04,320
b_(n)就是这样一个式子

76
00:03:04,320 --> 00:03:07,900
最后我们套上面的公式累加就能得到答案啦~

77
00:03:07,900 --> 00:03:10,480
这里的计算量比法1大一点点

78
00:03:10,480 --> 00:03:13,390
我们需要先写出等比数列求和公式

79
00:03:13,390 --> 00:03:19,030
然后把式子整理成常数，加上若干倍8/9的n次方的形式

81
00:03:19,030 --> 00:03:21,500
最后再用b_(n)求出a_(n)

82
00:03:21,500 --> 00:03:23,980
如果你发现结果和法1不同

83
00:03:23,980 --> 00:03:25,370
不妨回到上一步

84
00:03:25,370 --> 00:03:30,660
检查一下是否有小数点或符号像迷路的小精灵一样跑错了位置

86
00:03:30,660 --> 00:03:32,500
要让a(t)为整数

87
00:03:32,500 --> 00:03:36,000
必须让两项的分母都被分子完全吸纳

88
00:03:36,000 --> 00:03:40,090
所以x+1是2的t次方的倍数

89
00:03:40,090 --> 00:03:43,780
x-1是3的t次方的倍数都要满足

90
00:03:43,780 --> 00:03:46,100
但第t+1项不是整数

91
00:03:46,100 --> 00:03:50,230
所以x+1是2的t+1次方的倍数

92
00:03:50,230 --> 00:03:53,960
和x-1是3的t+1次方的倍数

93
00:03:53,960 --> 00:03:55,750
至少有一条不满足

94
00:03:55,750 --> 00:03:58,890
2的t次方和3的t次方互素

95
00:03:58,890 --> 00:04:00,690
所以前两条同余方程

96
00:04:00,690 --> 00:04:04,050
可以通过古老的中国剩余定理优雅地融合

98
00:04:04,050 --> 00:04:08,130
就像两股不同的清泉，最终汇入同一片湖泊

100
00:04:08,130 --> 00:04:12,200
最后，记得手动验证是否满足第三个条件即可

101
00:04:12,200 --> 00:04:14,890
没学过数论的旅行者可能会问

102
00:04:14,890 --> 00:04:16,680
中国剩余定理是什么

103
00:04:16,680 --> 00:04:17,860
简单来说

104
00:04:17,860 --> 00:04:20,120
它就像一位高超的调停者

105
00:04:20,120 --> 00:04:23,520
能同时满足多个互不冲突的模数条件

106
00:04:23,520 --> 00:04:27,260
让我们解出屏幕里展示的线性同余方程组

107
00:04:27,260 --> 00:04:31,060
这个方程组有两个长度相等的数组：a和m

108
00:04:31,060 --> 00:04:35,000
方程组里m数组的元素是两两互素的

109
00:04:35,000 --> 00:04:39,330
我们设大M数组为总模数除掉小m数组的第i项

111
00:04:39,330 --> 00:04:43,960
于是小m数组第i项和大M数组第i项是互素的

112
00:04:43,960 --> 00:04:45,580
裴蜀定理告诉我们

113
00:04:45,580 --> 00:04:49,450
这时大M数组第i项存在唯一的乘法逆元

115
00:04:49,450 --> 00:04:53,560
满足它们相乘再模小m数组的第i项为1

116
00:04:53,560 --> 00:04:56,600
那么再给它乘上a数组的第i项

117
00:04:56,600 --> 00:04:59,040
不就满足第i条方程了吗

118
00:04:59,040 --> 00:05:02,960
我们再把它们都加起来，也就满足所有方程啦~

120
00:05:02,960 --> 00:05:07,170
不了解中国剩余定理的旅行者一样可以写完这题

122
00:05:07,170 --> 00:05:09,830
大语言模型训练过很多算法题

123
00:05:09,830 --> 00:05:12,720
所以它完全有能力写这题的代码

124
00:05:12,720 --> 00:05:15,920
屏幕的左边是提示词和运行结果

125
00:05:15,920 --> 00:05:18,580
右边是大语言模型给我的代码

126
00:05:18,580 --> 00:05:21,790
对这段计算之舞细节感兴趣的旅行者

127
00:05:21,790 --> 00:05:23,627
随时可以向我询问~

128
00:05:23,627 --> 00:05:26,810
今晚，净善宫的星光不会黯淡

129
00:05:26,810 --> 00:05:29,110
世界树也多了一圈新的年轮

130
00:05:29,110 --> 00:05:31,270
感谢你的陪伴，旅行者！

131
00:05:31,270 --> 00:05:33,530
愿知识的根须不断延伸

132
00:05:33,530 --> 00:05:35,310
而你探索的道路上

133
00:05:35,310 --> 00:05:38,560
永远有智慧的微光与惊喜的发现相伴
