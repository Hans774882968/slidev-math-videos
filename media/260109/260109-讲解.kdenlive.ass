[Script Info]
; Script generated by Kdenlive 25.08.3
LayoutResX: 1920
LayoutResY: 1080
PlayResX: 1920
PlayResY: 1080
ScaledBorderAndShadow: yes
ScriptType: v4.00+
WrapStyle: 0
YCbCr Matrix: None

[Kdenlive Extradata]
MaxLayer: 0
DefaultStyles: Default

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,站酷快乐体2016修订版,60.00,&H00FFAAAA,&H000000FF,&H00FF55AA,&H00000000,0,0,0,0,100.00,100.00,0.00,0.00,1,10.00,0.00,2,40,40,40,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,00:00:04.00,00:00:05.77,Default,,0,0,0,,欢迎回到Hans的频道
Dialogue: 0,00:00:05.77,00:00:08.23,Default,,0,0,0,,我们必须想象，做题人是幸福的
Dialogue: 0,00:00:08.23,00:00:12.57,Default,,0,0,0,,今天分享如何用manim制作带递归的从夯到拉锐评视频
Dialogue: 0,00:00:12.57,00:00:15.57,Default,,0,0,0,,如果你看过我之前两期的manim教学视频
Dialogue: 0,00:00:15.57,00:00:18.63,Default,,0,0,0,,那么写出这期视频的代码会轻松不少
Dialogue: 0,00:00:18.63,00:00:21.50,Default,,0,0,0,,首先我们来拆解视频标题的句子结构
Dialogue: 0,00:00:21.50,00:00:24.77,Default,,0,0,0,,如果你已经熟悉递归算法，这一部分可以跳过
Dialogue: 0,00:00:24.77,00:00:26.87,Default,,0,0,0,,一段代码胜过千言万语
Dialogue: 0,00:00:26.87,00:00:31.07,Default,,0,0,0,,屏幕中间的代码非常清晰地展示了标题是怎么拼接出来的
Dialogue: 0,00:00:31.07,00:00:34.47,Default,,0,0,0,,在浏览器中按下F12，打开开发者工具
Dialogue: 0,00:00:34.47,00:00:38.63,Default,,0,0,0,,切到Console栏，粘贴代码，按回车，就能看到运行结果
Dialogue: 0,00:00:38.63,00:00:43.40,Default,,0,0,0,,f1含有1个锐评和1个从夯到拉，f2是2个，f3是3个
Dialogue: 0,00:00:43.40,00:00:48.00,Default,,0,0,0,,不难发现规律：下标是几，“锐评”和“从夯到拉”就各出现几次
Dialogue: 0,00:00:48.00,00:00:51.17,Default,,0,0,0,,实际上，标题这句话的语序是调整过的
Dialogue: 0,00:00:51.17,00:00:54.00,Default,,0,0,0,,原始的语序是：从夯到拉锐评某某
Dialogue: 0,00:00:54.00,00:00:56.23,Default,,0,0,0,,这种语序当然也支持递归
Dialogue: 0,00:00:56.23,00:01:00.07,Default,,0,0,0,,但它还能看成是循环生成的，递归味就没那么重了
Dialogue: 0,00:01:00.07,00:01:02.77,Default,,0,0,0,,所以视频标题没有采用这种语序
Dialogue: 0,00:01:02.77,00:01:05.00,Default,,0,0,0,,留个小作业：分析下这句话：
Dialogue: 0,00:01:05.00,00:01:07.87,Default,,0,0,0,,给给视频评夯评拉完了给到NPC
Dialogue: 0,00:01:07.87,00:01:09.50,Default,,0,0,0,,接下来开始看代码
Dialogue: 0,00:01:09.50,00:01:13.53,Default,,0,0,0,,首先我们需要生成多个背景，为做出递归效果做准备
Dialogue: 0,00:01:13.53,00:01:16.00,Default,,0,0,0,,第一个问题是：生成多少个背景？
Dialogue: 0,00:01:16.00,00:01:17.60,Default,,0,0,0,,找规律就能确定
Dialogue: 0,00:01:17.60,00:01:20.87,Default,,0,0,0,,普通的锐评某某从夯到拉，只需要1个背景
Dialogue: 0,00:01:20.87,00:01:24.53,Default,,0,0,0,,锐评锐评某某从夯到拉从夯到拉，需要2个背景
Dialogue: 0,00:01:24.53,00:01:29.27,Default,,0,0,0,,不难发现规律：标题句子里出现n个“从夯到拉”，就需要n个背景
Dialogue: 0,00:01:29.27,00:01:31.77,Default,,0,0,0,,这里根据文案，我准备了5个背景
Dialogue: 0,00:01:31.77,00:01:36.37,Default,,0,0,0,,之前的视频已经介绍过如何写代码生成从夯到拉的背景图
Dialogue: 0,00:01:36.37,00:01:39.73,Default,,0,0,0,,直接找一个网站截图，然后提示词有话直说
Dialogue: 0,00:01:39.73,00:01:42.53,Default,,0,0,0,,让通义千问帮忙用manim复刻就行
Dialogue: 0,00:01:42.53,00:01:45.00,Default,,0,0,0,,但生成效果只是看着像回事
Dialogue: 0,00:01:45.00,00:01:47.60,Default,,0,0,0,,古法手作调整细节的过程省不了
Dialogue: 0,00:01:47.60,00:01:49.30,Default,,0,0,0,,可以看我之前的视频
Dialogue: 0,00:01:49.30,00:01:52.50,Default,,0,0,0,,当时没有把生成背景的代码封装成函数
Dialogue: 0,00:01:52.50,00:01:56.47,Default,,0,0,0,,这里为了生成多个背景，封装了函数draw_rank_list_bg
Dialogue: 0,00:01:56.47,00:02:00.97,Default,,0,0,0,,为此，我们还需要在manim提供的setup方法里添加些全局变量
Dialogue: 0,00:02:00.97,00:02:03.87,Default,,0,0,0,,后续代码会反反复复用到这些变量
Dialogue: 0,00:02:03.87,00:02:08.20,Default,,0,0,0,,接下来写代码处理和上期视频一样的从夯到拉评价过程
Dialogue: 0,00:02:08.20,00:02:11.03,Default,,0,0,0,,这期视频要展示不少技术栈的图标
Dialogue: 0,00:02:11.03,00:02:14.13,Default,,0,0,0,,那怎么快速、方便地获取这些图标资源呢？
Dialogue: 0,00:02:14.13,00:02:18.23,Default,,0,0,0,,直接问DeepSeek老师，就查到了这个叫devicon的开源项目
Dialogue: 0,00:02:18.23,00:02:22.57,Default,,0,0,0,,里面有很多技术栈的图标，而且都是svg格式，太香了
Dialogue: 0,00:02:22.57,00:02:26.30,Default,,0,0,0,,不过加载图标时踩了坑：Vite的图标含有渐变色
Dialogue: 0,00:02:26.30,00:02:29.00,Default,,0,0,0,,加载到manim里无法正常显示颜色
Dialogue: 0,00:02:29.00,00:02:31.37,Default,,0,0,0,,我不想在这里浪费太多时间
Dialogue: 0,00:02:31.37,00:02:34.67,Default,,0,0,0,,直接用浏览器打开svg图标并截图
Dialogue: 0,00:02:34.67,00:02:37.60,Default,,0,0,0,,代码改成加载图片，简单粗暴有效
Dialogue: 0,00:02:37.60,00:02:43.07,Default,,0,0,0,,ImageMobject继承Mobject，但SVGMobject继承VMobject
Dialogue: 0,00:02:43.07,00:02:46.47,Default,,0,0,0,,所以想打包的多个元素包含ImageMobject时
Dialogue: 0,00:02:46.47,00:02:48.77,Default,,0,0,0,,只能用Group，不能用VGroup
Dialogue: 0,00:02:48.77,00:02:52.30,Default,,0,0,0,,为了节省时间，我们希望一次展示多个技术栈图标
Dialogue: 0,00:02:52.30,00:02:54.80,Default,,0,0,0,,首先确定它们的初始位置关系
Dialogue: 0,00:02:54.80,00:02:58.47,Default,,0,0,0,,这里我选择让图标群的位置由第一个展示的图标决定
Dialogue: 0,00:02:58.47,00:03:02.07,Default,,0,0,0,,像左下角的代码这样，先移动第一个展示的图标到
Dialogue: 0,00:03:02.07,00:03:04.40,Default,,0,0,0,,能让图标群看着顺眼的位置
Dialogue: 0,00:03:04.40,00:03:09.23,Default,,0,0,0,,再根据各个图标的大小来确定后续的每个图标各在哪些图标的旁边
Dialogue: 0,00:03:09.23,00:03:13.10,Default,,0,0,0,,这里只能靠自己不断改代码，编译看效果是否顺眼
Dialogue: 0,00:03:13.10,00:03:17.57,Default,,0,0,0,,如果希望图标群居中，像右下角的代码这样打包成Group就OK
Dialogue: 0,00:03:17.57,00:03:21.20,Default,,0,0,0,,为了让图标依次入场，要用到manim的LaggedStart类
Dialogue: 0,00:03:21.20,00:03:26.93,Default,,0,0,0,,lag_ratio=0.3表示在前一个动画运行30%时，下一个动画开始
Dialogue: 0,00:03:26.93,00:03:28.57,Default,,0,0,0,,和上期视频一样
Dialogue: 0,00:03:28.57,00:03:31.80,Default,,0,0,0,,我们希望让素材一边缩小到一行矩形的高度
Dialogue: 0,00:03:31.80,00:03:34.07,Default,,0,0,0,,一边移动到排行榜的正确位置
Dialogue: 0,00:03:34.07,00:03:36.87,Default,,0,0,0,,这部分代码和上期视频大同小异
Dialogue: 0,00:03:36.87,00:03:40.27,Default,,0,0,0,,但对于第一个前往这一行的图标，我们有一个新问题
Dialogue: 0,00:03:40.27,00:03:42.77,Default,,0,0,0,,需要先确定画面最上层的背景
Dialogue: 0,00:03:42.77,00:03:46.17,Default,,0,0,0,,这里确定出来是bg5，原因在后面会细讲
Dialogue: 0,00:03:46.17,00:03:49.70,Default,,0,0,0,,取标签矩形的4号下标表示把图标排到“拉完了”
Dialogue: 0,00:03:49.70,00:03:52.40,Default,,0,0,0,,另外，我们预先打包了一个VGroup
Dialogue: 0,00:03:52.40,00:03:55.37,Default,,0,0,0,,为后续对当前背景进行排名做准备
Dialogue: 0,00:03:55.37,00:03:57.33,Default,,0,0,0,,这里可能会有大佬注意到
Dialogue: 0,00:03:57.33,00:04:01.50,Default,,0,0,0,,怎么没和前面一样用LaggedStart实现元素排队入场的效果？
Dialogue: 0,00:04:01.50,00:04:05.27,Default,,0,0,0,,因为我发现，不排第一的元素的目标位置都不好确定
Dialogue: 0,00:04:05.27,00:04:09.00,Default,,0,0,0,,而且在运动速度较快的情况下，两者效果差不多
Dialogue: 0,00:04:09.00,00:04:11.53,Default,,0,0,0,,解决这个技术问题的性价比并不高
Dialogue: 0,00:04:11.50,00:04:16.43,Default,,0,0,0,,现在回答刚刚提出的问题：为什么最后加入画面的bg5位于最上层？
Dialogue: 0,00:04:16.43,00:04:21.37,Default,,0,0,0,,根据manim讲layers的官方文档，z-index不同时，优先按z-index排
Dialogue: 0,00:04:21.37,00:04:25.40,Default,,0,0,0,,z-index相同时，后加入画面的元素位于画面上层
Dialogue: 0,00:04:25.40,00:04:28.43,Default,,0,0,0,,这和网页CSS的z-index规则类似
Dialogue: 0,00:04:28.43,00:04:32.90,Default,,0,0,0,,然鹅，我在之前写代码时，错认为bg1位于画面最上层
Dialogue: 0,00:04:32.90,00:04:35.27,Default,,0,0,0,,但视觉效果竟然完全没问题！
Dialogue: 0,00:04:35.27,00:04:38.17,Default,,0,0,0,,我猜测原因是，在执行缩小动画时
Dialogue: 0,00:04:38.17,00:04:42.17,Default,,0,0,0,,原本被上层背景完全覆盖的背景突然被manim拉上来了
Dialogue: 0,00:04:42.17,00:04:44.33,Default,,0,0,0,,5层背景又长得完全一样
Dialogue: 0,00:04:44.33,00:04:48.53,Default,,0,0,0,,这就导致缩小动画的突变过程看着就像我们期望的渐变过程
Dialogue: 0,00:04:48.53,00:04:51.67,Default,,0,0,0,,（这里在展示突变效果）\N我写了两段代码，专门展示这个突变过程
Dialogue: 0,00:04:51.67,00:04:55.93,Default,,0,0,0,,（这里在展示突变效果）\N原理很简单，给每个背景添加一个编号就能看到突变效果
Dialogue: 0,00:04:55.93,00:05:00.03,Default,,0,0,0,,但代码比较长，这里就不完整贴出，只给两扇传送门了
Dialogue: 0,00:05:00.03,00:05:04.07,Default,,0,0,0,,接着我们来到了本期视频的重头戏：递归锐评背景本身
Dialogue: 0,00:05:04.07,00:05:08.60,Default,,0,0,0,,需要缩小的元素包括当前背景和一切在当前背景上面的元素
Dialogue: 0,00:05:08.60,00:05:11.20,Default,,0,0,0,,我们要把这一切元素打包进一个Group
Dialogue: 0,00:05:11.20,00:05:13.70,Default,,0,0,0,,并把它们放到下一层背景的某一行
Dialogue: 0,00:05:13.70,00:05:16.20,Default,,0,0,0,,每一层递归的运动过程是一样的
Dialogue: 0,00:05:16.20,00:05:20.53,Default,,0,0,0,,所以我抽象出了屏幕里代码展示的bg_insert_into_rank方法
Dialogue: 0,00:05:20.53,00:05:23.73,Default,,0,0,0,,其中，to_shrink表示一切需要缩小的元素
Dialogue: 0,00:05:23.73,00:05:26.03,Default,,0,0,0,,next_bg表示下一层背景
Dialogue: 0,00:05:26.03,00:05:30.23,Default,,0,0,0,,label_index表示把当前元素组放在下一层背景的哪一行
Dialogue: 0,00:05:30.23,00:05:32.30,Default,,0,0,0,,后面的参数都不太重要
Dialogue: 0,00:05:32.30,00:05:35.53,Default,,0,0,0,,屏幕里代码展示的调用示例是第一层递归
Dialogue: 0,00:05:35.53,00:05:37.43,Default,,0,0,0,,表示本期视频评为夯
Dialogue: 0,00:05:37.43,00:05:41.50,Default,,0,0,0,,后续层的递归可以通过引用前面定义的to_shrink系列变量
Dialogue: 0,00:05:41.50,00:05:45.57,Default,,0,0,0,,实现囊括一切在当前背景上面的元素的效果，很方便
Dialogue: 0,00:05:45.57,00:05:47.70,Default,,0,0,0,,为什么说这是递归写法呢？
Dialogue: 0,00:05:47.70,00:05:50.33,Default,,0,0,0,,把最下面代码块的to_shrink2展开
Dialogue: 0,00:05:50.33,00:05:52.80,Default,,0,0,0,,就会发现它嵌套了好几层Group类
Dialogue: 0,00:05:52.80,00:05:55.77,Default,,0,0,0,,没有出现递归函数，但用到了递归思想
Dialogue: 0,00:05:55.77,00:05:59.03,Default,,0,0,0,,完整代码有330多行，这里就不贴出了
Dialogue: 0,00:05:59.03,00:06:01.70,Default,,0,0,0,,感兴趣的大佬可以前往GitHub查看
Dialogue: 0,00:06:01.70,00:06:04.10,Default,,0,0,0,,接着总结下本期视频的知识点
Dialogue: 0,00:06:04.10,00:06:06.73,Default,,0,0,0,,写出本期视频的代码其实不容易
Dialogue: 0,00:06:06.73,00:06:10.13,Default,,0,0,0,,但这里展示的知识点看着好水，就不一一读了！
Dialogue: 0,00:06:10.13,00:06:14.40,Default,,0,0,0,,我是Hans，我正致力于为做题人的精神自留地添砖加瓦
Dialogue: 0,00:06:14.40,00:06:17.27,Default,,0,0,0,,喜欢这期视频的话，别忘了一键三连哦
Dialogue: 0,00:06:17.27,00:06:18.47,Default,,0,0,0,,谢谢观看
