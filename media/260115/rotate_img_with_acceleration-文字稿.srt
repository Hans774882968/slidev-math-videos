1
00:00:04,000 --> 00:00:05,776
欢迎回到Hans的频道

2
00:00:05,776 --> 00:00:08,236
我们必须想象，做题人是幸福的

3
00:00:08,236 --> 00:00:12,303
今天分享如何用manim制作够赞边旋转边加速的动画

4
00:00:12,303 --> 00:00:14,890
也许有同学会说，这种简单任务

5
00:00:14,890 --> 00:00:18,755
扔给LLM，不会编程、没有双手都能轻松做

6
00:00:18,755 --> 00:00:19,986
真的是这样吗？

7
00:00:19,986 --> 00:00:23,294
我们打开DeepSeek，随手写下屏幕里的提示词

8
00:00:23,294 --> 00:00:25,823
轻松拿到了二维的旋转加速代码

9
00:00:25,823 --> 00:00:28,669
这里建议读读代码，了解代码的思路

10
00:00:28,669 --> 00:00:32,457
后面扩展代码功能时，才不会被LLM带沟里

11
00:00:32,457 --> 00:00:36,111
manim代码主要用到add_updater传入回调函数

12
00:00:36,111 --> 00:00:39,544
为了在动画的多次更新之间记录动画的各种状态

13
00:00:39,544 --> 00:00:41,640
我们需要用到ValueTracker类

14
00:00:41,640 --> 00:00:46,486
实现一次旋转很简单，传入旋转角、旋转轴和旋转中心就行

15
00:00:46,486 --> 00:00:49,659
求旋转角时，我们没有彻底模拟匀加速运动

16
00:00:49,659 --> 00:00:53,813
而是把v-t图像的一条直线简化为了多段速度突变的横线

17
00:00:53,813 --> 00:00:56,323
至此，一切都很简洁、美好

18
00:00:56,323 --> 00:00:58,400
我们照常运行代码发现

19
00:00:58,400 --> 00:01:00,332
等待编译更加煎熬了

20
00:01:00,332 --> 00:01:03,419
这是因为，如果代码里用到了add_updater

21
00:01:03,419 --> 00:01:05,525
缓存功能就会基本失效

22
00:01:05,525 --> 00:01:08,582
几乎只有完全相同的代码才能命中缓存

23
00:01:08,582 --> 00:01:11,150
接下来开始支持三维旋转加速

24
00:01:11,150 --> 00:01:13,486
LLM开始把我们带沟里了

25
00:01:13,486 --> 00:01:16,553
无奖竞猜：你会选哪位老师生成的代码？

26
00:01:16,553 --> 00:01:19,832
DeepSeek生成的代码就是无脑照抄上一版代码

27
00:01:19,832 --> 00:01:21,794
然后改旋转轴为Y轴

28
00:01:21,794 --> 00:01:23,746
虽然代码肉眼可见的烂

29
00:01:23,746 --> 00:01:25,380
但至少是正常跑的

30
00:01:25,380 --> 00:01:28,217
通义千问的代码就是经典逆天幻觉了

31
00:01:28,217 --> 00:01:30,380
这里友情纠正下通义千问

32
00:01:30,380 --> 00:01:32,755
因为三维空间包含二维平面

33
00:01:32,755 --> 00:01:35,678
把manim实现成不需要继承ThreeDScene

34
00:01:35,678 --> 00:01:38,121
也能正常运行的样子是应该的

35
00:01:38,121 --> 00:01:41,092
接下来科普下为什么DeepSeek能够蒙对

36
00:01:41,092 --> 00:01:44,265
无脑把旋转轴改为Y轴就能从外向里转

37
00:01:44,265 --> 00:01:47,178
首先简单介绍下manim的三维坐标轴

38
00:01:47,178 --> 00:01:49,150
一张图胜过千言万语

39
00:01:49,150 --> 00:01:51,746
源码定义的变量也可以辅助理解

40
00:01:51,746 --> 00:01:54,332
manim的rotate方法是怎么实现的？

41
00:01:54,332 --> 00:01:56,457
一句话，左乘旋转矩阵

42
00:01:56,457 --> 00:01:58,957
如果你在搜索引擎搜旋转矩阵

43
00:01:58,957 --> 00:02:01,640
会发现有两个版本，一个是屏幕里的

44
00:02:01,640 --> 00:02:04,621
另一个是对矩阵里所有的sin取相反数

45
00:02:04,621 --> 00:02:06,342
为什么会有这样的差别？

46
00:02:06,342 --> 00:02:09,755
我看还没人讲过这个问题，这里就简单科普下

47
00:02:09,755 --> 00:02:13,313
屏幕里定义的角度正方向是用右手定则确定的

48
00:02:13,313 --> 00:02:17,419
看着屏幕里的图片，动动右手，就能确定角度的正方向了

49
00:02:17,419 --> 00:02:21,601
虽然通义千问是错的，但我确实好奇继承ThreeDScene的效果

50
00:02:21,601 --> 00:02:25,034
对比运行效果发现，继承Scene的版本无抖动

51
00:02:25,034 --> 00:02:28,428
继承ThreeDScene的版本有抖动感，看着更带劲

52
00:02:28,428 --> 00:02:30,986
目前还不清楚为什么会有这种差别（挖坑*1

53
00:02:30,986 --> 00:02:33,948
在用DeepSeek写三维旋转加速代码时

54
00:02:33,948 --> 00:02:36,765
它还给了我一个所谓的“更有戏剧性”的效果

55
00:02:36,765 --> 00:02:39,948
我有点好奇，就试了试，发现效果不正常

56
00:02:39,948 --> 00:02:41,457
就问它什么脑回路

57
00:02:41,457 --> 00:02:45,101
原来它只是想要通过左乘旋转矩阵来实现旋转

58
00:02:45,101 --> 00:02:48,880
但前面我们已经介绍过，这就是rotate方法的原理

59
00:02:48,880 --> 00:02:52,101
所以用LLM的时候，最好还是审下代码

60
00:02:52,101 --> 00:02:55,342
可以先让其他LLM审，但人最好也读下

61
00:02:55,342 --> 00:02:57,650
免得被LLM的幻觉带沟里

62
00:02:57,650 --> 00:03:00,919
最后是点睛之笔：实现申鹤最爱的计时器

63
00:03:00,919 --> 00:03:04,592
这个功能很简单，如果比较熟悉add_updater方法

64
00:03:04,592 --> 00:03:06,775
我们手打能比写提示词还快

65
00:03:06,775 --> 00:03:09,823
这里可能会踩坑：创建更新后的文本时

66
00:03:09,823 --> 00:03:13,303
除文本外的所有属性，必须和定义时完全一致

67
00:03:13,303 --> 00:03:15,390
这里是完整代码的传送门

68
00:03:15,390 --> 00:03:17,275
感兴趣的同学可以看看

69
00:03:17,275 --> 00:03:20,621
最后说说这个PPT的旋转纳西妲是怎么做的

70
00:03:20,621 --> 00:03:23,775
过程挺曲折的，这里空白太小，写不下

71
00:03:23,775 --> 00:03:27,005
就先简单讲讲，后面单独拆一篇博客出来（挖坑*2

72
00:03:27,005 --> 00:03:31,707
左边是写提示词，然后整理代码拿到的版本，右边是最终版本

73
00:03:31,707 --> 00:03:35,323
这两段代码的关系，只能说，它们都是vue3代码

74
00:03:35,323 --> 00:03:38,755
为什么在slidev里封装一个图片组件这么麻烦？

75
00:03:38,755 --> 00:03:42,428
你说得对，但是《Slidev》是Anthony Fu自主研发的

76
00:03:42,428 --> 00:03:44,948
一款全新开源演示文稿框架

77
00:03:44,948 --> 00:03:48,294
它诞生于一个被称作「前端娱乐圈」的幻想世界

78
00:03:48,294 --> 00:03:52,832
在这里，被Vue3+Vite选中的人将被授予slidev命令行工具

79
00:03:52,832 --> 00:03:54,515
导引Markdown之力

80
00:03:54,515 --> 00:03:57,275
你将扮演一位名为「演讲者」的神秘角色

81
00:03:57,275 --> 00:04:01,496
在自由的创作中邂逅风格各异、狂拽炫酷的前端特效们

82
00:04:01,496 --> 00:04:03,967
和它们一起击败PowerPoint的垄断

83
00:04:03,967 --> 00:04:06,255
找回失散的前端工程师岗位

84
00:04:06,255 --> 00:04:08,996
同时，逐步发掘「前端已4」的真相

85
00:04:09,971 --> 00:04:14,189
我是Hans，我正致力于为做题人的精神自留地添砖加瓦

86
00:04:14,189 --> 00:04:17,044
喜欢这期视频的话，别忘了一键三连哦

87
00:04:17,044 --> 00:04:18,188
谢谢观看~

