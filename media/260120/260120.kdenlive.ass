[Script Info]
; Script generated by Kdenlive 25.08.3
LayoutResX: 1920
LayoutResY: 1080
PlayResX: 1920
PlayResY: 1080
ScaledBorderAndShadow: yes
ScriptType: v4.00+
WrapStyle: 0
YCbCr Matrix: None

[Kdenlive Extradata]
MaxLayer: 0
DefaultStyles: Default

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,站酷快乐体2016修订版,60.00,&H00FFAAAA,&H000000FF,&H00FF55AA,&H00000000,0,0,0,0,100.00,100.00,0.00,0.00,1,10.00,0.00,2,40,40,40,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,00:00:00.10,00:00:03.73,Default,,0,0,0,,这期视频我在广东光大联考刚结束时就想做
Dialogue: 0,00:00:03.73,00:00:07.10,Default,,0,0,0,,但我非常想提供完全不需要注意力的第三种解法
Dialogue: 0,00:00:07.10,00:00:10.03,Default,,0,0,0,,捣鼓开发环境和写代码耗了很长时间
Dialogue: 0,00:00:10.03,00:00:11.90,Default,,0,0,0,,所以直到现在才发
Dialogue: 0,00:00:11.90,00:00:14.27,Default,,0,0,0,,这题虽然不难，但同时涉及了
Dialogue: 0,00:00:14.27,00:00:16.20,Default,,0,0,0,,n项的完全平方公式
Dialogue: 0,00:00:16.20,00:00:19.43,Default,,0,0,0,,用复数技能包求sine、cosine等差数列的和
Dialogue: 0,00:00:19.43,00:00:21.77,Default,,0,0,0,,拉格朗日乘数法+Grobner基
Dialogue: 0,00:00:21.77,00:00:23.87,Default,,0,0,0,,而且体现了对称性之美
Dialogue: 0,00:00:23.87,00:00:26.80,Default,,0,0,0,,可以说是审美价值、训练价值都拉满
Dialogue: 0,00:00:30.83,00:00:32.60,Default,,0,0,0,,欢迎回到Hans的频道
Dialogue: 0,00:00:32.60,00:00:35.07,Default,,0,0,0,,我们必须想象，做题人是幸福的
Dialogue: 0,00:00:35.07,00:00:37.63,Default,,0,0,0,,首先说说考场上的速通技巧
Dialogue: 0,00:00:37.63,00:00:39.87,Default,,0,0,0,,我们要考完再细细品味这题
Dialogue: 0,00:00:39.87,00:00:43.57,Default,,0,0,0,,根据对称性，盲猜取到正n边形时就是答案
Dialogue: 0,00:00:43.57,00:00:46.03,Default,,0,0,0,,但正n边形情况的值并不好算
Dialogue: 0,00:00:46.03,00:00:48.50,Default,,0,0,0,,那就看看正三角形和正方形吧
Dialogue: 0,00:00:48.50,00:00:51.37,Default,,0,0,0,,建系时利用对称性可以减小计算量
Dialogue: 0,00:00:51.37,00:00:55.17,Default,,0,0,0,,不难算出正三角形的值为9，正方形的值为16
Dialogue: 0,00:00:55.17,00:00:57.40,Default,,0,0,0,,直接盲猜答案n方，跑路~
Dialogue: 0,00:00:57.40,00:00:59.40,Default,,0,0,0,,接下来开始好好品味这题！
Dialogue: 0,00:00:59.40,00:01:01.57,Default,,0,0,0,,首先是法1，直接设点
Dialogue: 0,00:01:01.57,00:01:03.93,Default,,0,0,0,,写出目标函数和约束方程
Dialogue: 0,00:01:03.93,00:01:07.40,Default,,0,0,0,,这个目标函数显然不打开括号就没法往下做
Dialogue: 0,00:01:07.40,00:01:10.43,Default,,0,0,0,,于是打开括号，得到屏幕上加粗的式子
Dialogue: 0,00:01:10.43,00:01:12.13,Default,,0,0,0,,式子为了节省空间
Dialogue: 0,00:01:12.13,00:01:15.53,Default,,0,0,0,,用了个对高中生来说可能有点陌生的求和记号
Dialogue: 0,00:01:15.53,00:01:19.27,Default,,0,0,0,,这个求和记号就是取遍每一个有序的二元组(i, j)
Dialogue: 0,00:01:19.27,00:01:23.83,Default,,0,0,0,,比如n=3时取二元组(2, 1), (3, 1), (3, 2)
Dialogue: 0,00:01:23.83,00:01:25.90,Default,,0,0,0,,下面就不得不用到注意力了
Dialogue: 0,00:01:25.90,00:01:29.77,Default,,0,0,0,,n项的完全平方公式对很多高中生来说有点陌生
Dialogue: 0,00:01:29.77,00:01:33.07,Default,,0,0,0,,但如果学过初中数学竞赛，应该会比较熟悉
Dialogue: 0,00:01:33.07,00:01:34.57,Default,,0,0,0,,这里的思想就是
Dialogue: 0,00:01:34.57,00:01:38.83,Default,,0,0,0,,n项的完全平方公式天然含有每一个x_i*x_j的项
Dialogue: 0,00:01:38.83,00:01:42.97,Default,,0,0,0,,我们看n=2的情况，直接用最常规的完全平方公式就行
Dialogue: 0,00:01:42.97,00:01:46.90,Default,,0,0,0,,那我们自然会猜测，n=3用3项的完全平方公式
Dialogue: 0,00:01:46.90,00:01:53.67,Default,,0,0,0,,发现x1+x2+x3的平方天然含有x1x2，x1x3和x2x3
Dialogue: 0,00:01:53.67,00:01:56.80,Default,,0,0,0,,于是一般情况用n项的完全平方公式
Dialogue: 0,00:01:56.80,00:02:01.63,Default,,0,0,0,,发现x_1+x_2+...+x_n的平方天然含有每一个x_i*x_j的项
Dialogue: 0,00:02:01.63,00:02:03.97,Default,,0,0,0,,也就是屏幕中间加粗的式子
Dialogue: 0,00:02:03.97,00:02:08.67,Default,,0,0,0,,令x_1+x_2+...+x_n和y_1+y_2+...+y_n都为0，就得到了最大值
Dialogue: 0,00:02:08.67,00:02:10.07,Default,,0,0,0,,但是，等等…
Dialogue: 0,00:02:10.07,00:02:12.13,Default,,0,0,0,,这里的等号真的能取到吗？
Dialogue: 0,00:02:12.13,00:02:15.20,Default,,0,0,0,,别着急，我们通过三角换元法来讲清楚
Dialogue: 0,00:02:15.20,00:02:17.63,Default,,0,0,0,,这里的等号取到时是什么情况
Dialogue: 0,00:02:17.63,00:02:21.43,Default,,0,0,0,,法2和法1没有本质区别，只是把约束方程隐去了
Dialogue: 0,00:02:21.43,00:02:24.80,Default,,0,0,0,,我们直接把法1最后一步的式子换成三角函数
Dialogue: 0,00:02:24.80,00:02:28.07,Default,,0,0,0,,这里的cos求和和sin求和能同时为0吗？
Dialogue: 0,00:02:28.07,00:02:31.17,Default,,0,0,0,,回顾刚刚讲的逃课技巧，我们直接猜测：
Dialogue: 0,00:02:31.17,00:02:34.20,Default,,0,0,0,,取正n边形就能同时满足这两个等式
Dialogue: 0,00:02:34.20,00:02:36.40,Default,,0,0,0,,下面开始证我们盲猜的结论
Dialogue: 0,00:02:36.40,00:02:39.20,Default,,0,0,0,,我们小学二年级就学过，根据对称性
Dialogue: 0,00:02:39.20,00:02:43.53,Default,,0,0,0,,圆内接正n边形两个相邻点和圆心的夹角是2π/n
Dialogue: 0,00:02:43.53,00:02:48.23,Default,,0,0,0,,那就不难写出每个点和x轴正方向的夹角，显然构成等差数列
Dialogue: 0,00:02:48.23,00:02:51.73,Default,,0,0,0,,根据对称性，建系时令其中一点在x轴上
Dialogue: 0,00:02:51.73,00:02:54.50,Default,,0,0,0,,比如a1=0，计算会更简单
Dialogue: 0,00:02:54.50,00:02:58.20,Default,,0,0,0,,但我之前讲长郡大题造火箭的那道三角压轴题时
Dialogue: 0,00:02:58.20,00:03:00.10,Default,,0,0,0,,推过一个很NB的技巧
Dialogue: 0,00:03:00.10,00:03:03.63,Default,,0,0,0,,直接把公差2π/n代入屏幕下方加粗的式子
Dialogue: 0,00:03:03.63,00:03:06.47,Default,,0,0,0,,发现两个式子确实都是0，也就证毕了
Dialogue: 0,00:03:06.47,00:03:09.40,Default,,0,0,0,,OK，终于来到我真正想讲的解法3了
Dialogue: 0,00:03:09.40,00:03:11.60,Default,,0,0,0,,注意力涣散能不能做这题呢？
Dialogue: 0,00:03:11.60,00:03:12.50,Default,,0,0,0,,可以的
Dialogue: 0,00:03:12.50,00:03:14.73,Default,,0,0,0,,显然这是一个条件极值问题
Dialogue: 0,00:03:14.73,00:03:18.23,Default,,0,0,0,,并且目标函数和约束方程都是多元多项式
Dialogue: 0,00:03:18.23,00:03:21.90,Default,,0,0,0,,所以直接考虑用拉格朗日乘数法+Grobner基来做
Dialogue: 0,00:03:21.90,00:03:25.27,Default,,0,0,0,,大佬们可以直接用拉格朗日乘数法分析这题
Dialogue: 0,00:03:25.27,00:03:26.73,Default,,0,0,0,,但我不想动笔算
Dialogue: 0,00:03:26.73,00:03:30.77,Default,,0,0,0,,这里就要用到经典的CTF Crypto技能包——SageMath了
Dialogue: 0,00:03:30.77,00:03:33.97,Default,,0,0,0,,我之前用这个技能包破解过一道高中钓鱼题
Dialogue: 0,00:03:33.97,00:03:36.43,Default,,0,0,0,,当时非常详细地介绍了这个科技
Dialogue: 0,00:03:36.43,00:03:39.37,Default,,0,0,0,,如果想看懂后面的内容，强烈建议去看看
Dialogue: 0,00:03:39.37,00:03:42.90,Default,,0,0,0,,首先是许愿环节，直接试试LLM的实力！
Dialogue: 0,00:03:42.90,00:03:47.33,Default,,0,0,0,,很遗憾，LLM偷懒了，只写了求Grobner基的代码糊弄我
Dialogue: 0,00:03:47.33,00:03:49.40,Default,,0,0,0,,回代的代码是一点没写
Dialogue: 0,00:03:49.40,00:03:52.50,Default,,0,0,0,,我有不祥的预感，回代工作大概不简单
Dialogue: 0,00:03:52.50,00:03:56.07,Default,,0,0,0,,还有两个现象让我感觉到写代码解这题不容易
Dialogue: 0,00:03:56.07,00:03:58.93,Default,,0,0,0,,第一，实测只有指定按字典序来排
Dialogue: 0,00:03:58.93,00:04:03.20,Default,,0,0,0,,并且规定x_i < y_i < λ_i，才能顺利消元
Dialogue: 0,00:04:03.20,00:04:05.57,Default,,0,0,0,,得到一元多项式，原因不明
Dialogue: 0,00:04:05.57,00:04:09.97,Default,,0,0,0,,第二，实测指定n=5，跑Grobner基的时间就不可忍受了
Dialogue: 0,00:04:09.97,00:04:11.60,Default,,0,0,0,,然后我又反复许愿
Dialogue: 0,00:04:11.60,00:04:15.83,Default,,0,0,0,,LLM终于写出屏幕下方展示的回代代码，但是报错了
Dialogue: 0,00:04:15.83,00:04:20.40,Default,,0,0,0,,把报错扔给LLM，LLM给的解决方案纯属AI幻觉
Dialogue: 0,00:04:20.40,00:04:24.27,Default,,0,0,0,,很遗憾，LLM挑战失败，接下来要自己debug
Dialogue: 0,00:04:24.27,00:04:27.17,Default,,0,0,0,,我们以n=4为例讲讲回代要做的事
Dialogue: 0,00:04:27.17,00:04:32.53,Default,,0,0,0,,λ3字典序最大，所以Grobner基最后一个元素是关于λ3的方程
Dialogue: 0,00:04:32.53,00:04:35.33,Default,,0,0,0,,解这个方程，得到λ3的多个解
Dialogue: 0,00:04:35.33,00:04:39.97,Default,,0,0,0,,遍历每一个解，代入Grobner基的倒数第二个元素，就能解出λ2
Dialogue: 0,00:04:39.97,00:04:44.20,Default,,0,0,0,,继续代入倒数第三个元素，就能解出λ1，以此类推
Dialogue: 0,00:04:44.20,00:04:48.43,Default,,0,0,0,,最理想的情况就是倒序遍历完以后，所有变量都解出来了
Dialogue: 0,00:04:48.43,00:04:52.27,Default,,0,0,0,,知道星辰大海的坐标后，我们来看看现在遇到的阻碍
Dialogue: 0,00:04:52.27,00:04:56.13,Default,,0,0,0,,单看屏幕里展示的代码，你能猜到这个报错的原因吗
Dialogue: 0,00:04:56.07,00:05:00.40,Default,,0,0,0,,既然报错提到了key，那我们就从current_sol变量的键类型入手
Dialogue: 0,00:05:00.40,00:05:04.03,Default,,0,0,0,,回顾代码，一开始current_sol有λ[n-1]
Dialogue: 0,00:05:04.03,00:05:06.13,Default,,0,0,0,,回代后会加入rv
Dialogue: 0,00:05:06.13,00:05:08.57,Default,,0,0,0,,我们发现这两个变量的类型不同
Dialogue: 0,00:05:08.57,00:05:11.17,Default,,0,0,0,,导致current_sol的键有两种类型
Dialogue: 0,00:05:11.17,00:05:13.53,Default,,0,0,0,,所以g_sub = g.subs(current_sol)这行代码会报错
Dialogue: 0,00:05:13.53,00:05:16.93,Default,,0,0,0,,这个bug隐蔽就隐蔽在，虽然它们的类型不同
Dialogue: 0,00:05:16.93,00:05:20.87,Default,,0,0,0,,但因为重载了等于运算符，所以它们仍然是可以相等的
Dialogue: 0,00:05:20.87,00:05:22.60,Default,,0,0,0,,知道原因就好解决了
Dialogue: 0,00:05:22.60,00:05:27.13,Default,,0,0,0,,直接遍历变量列表，用等于运算符匹配出我们要的新变量就行
Dialogue: 0,00:05:27.13,00:05:31.47,Default,,0,0,0,,注意，这里不能用index方法去匹配，因为它们的类型不同
Dialogue: 0,00:05:31.47,00:05:36.23,Default,,0,0,0,,回代完成后，很遗憾，只有λ成功解出来，其他变量都没解出
Dialogue: 0,00:05:36.23,00:05:41.07,Default,,0,0,0,,这是因为Grobner基里所有跟x、y有关的变量都是纠缠在一起的
Dialogue: 0,00:05:41.07,00:05:42.67,Default,,0,0,0,,那接下来该怎么办呢？
Dialogue: 0,00:05:42.67,00:05:46.17,Default,,0,0,0,,那就代入求出的λ值，再求一次Grobner基！
Dialogue: 0,00:05:46.17,00:05:49.97,Default,,0,0,0,,直接复制之前LLM生成的代码，稍微修改一下
Dialogue: 0,00:05:49.97,00:05:50.70,Default,,0,0,0,,duang！
Dialogue: 0,00:05:50.70,00:05:54.00,Default,,0,0,0,,我们发现，n=3和n=4都是4个解
Dialogue: 0,00:05:54.00,00:05:57.27,Default,,0,0,0,,全0解都表示所有点都重合，我们不关心
Dialogue: 0,00:05:57.27,00:06:00.63,Default,,0,0,0,,前两行都表示有一个点被孤立，其他点重合
Dialogue: 0,00:06:00.63,00:06:05.40,Default,,0,0,0,,可能是鞍点也可能是局部极值点，但不是我们感兴趣的最值点
Dialogue: 0,00:06:05.40,00:06:09.37,Default,,0,0,0,,第三行就是我们熟悉的正n边形情况了，取得最大值
Dialogue: 0,00:06:09.37,00:06:11.63,Default,,0,0,0,,最后我又试着新增一条约束
Dialogue: 0,00:06:11.63,00:06:14.40,Default,,0,0,0,,利用对称性，让第一个点在x轴上
Dialogue: 0,00:06:14.40,00:06:17.13,Default,,0,0,0,,发现n=3时直接解出了所有点
Dialogue: 0,00:06:17.13,00:06:19.70,Default,,0,0,0,,但n=4时，结果并没有提升
Dialogue: 0,00:06:19.70,00:06:21.73,Default,,0,0,0,,这里是完整代码传送门
Dialogue: 0,00:06:21.73,00:06:24.60,Default,,0,0,0,,代码差不多有200行，但非常容易理解！
Dialogue: 0,00:06:24.60,00:06:28.80,Default,,0,0,0,,最后再次邀请大佬们直接用拉格朗日乘数法分析下这题
Dialogue: 0,00:06:28.80,00:06:33.07,Default,,0,0,0,,我是Hans，我正致力于为做题人的精神自留地添砖加瓦
Dialogue: 0,00:06:33.07,00:06:36.37,Default,,0,0,0,,如果你觉得这个视频的解题思路足够清晰自然
Dialogue: 0,00:06:36.37,00:06:38.33,Default,,0,0,0,,对注意力涣散人群友好
Dialogue: 0,00:06:38.33,00:06:39.90,Default,,0,0,0,,别忘了一键三连哦
Dialogue: 0,00:06:39.90,00:06:41.13,Default,,0,0,0,,谢谢观看~
