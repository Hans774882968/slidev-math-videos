1
00:00:00,050 --> 00:00:04,012
大佬们好久不见，欢迎回到我的频道

2
00:00:04,012 --> 00:00:07,625
我们必须想象，做题人是幸福的

3
00:00:07,625 --> 00:00:10,900
我是Hans，大龄做题人一枚

4
00:00:10,900 --> 00:00:13,500
这次换了个童声旁白

5
00:00:13,500 --> 00:00:15,987
因为小朋友都会数数

6
00:00:15,987 --> 00:00:20,425
而大龄做题人Hans大学打了3年acm

7
00:00:20,425 --> 00:00:23,175
却连数数题都不会写

8
00:00:23,175 --> 00:00:30,187
今天我们讨论的是数数题中插空法、隔板法和捆绑法的综合练习

9
00:00:30,187 --> 00:00:34,562
一题多解，干货多多，一定要看到最后喔

10
00:00:34,562 --> 00:00:37,487
如果想要入门排列组合

11
00:00:37,487 --> 00:00:42,137
相比于这个视频，题源视频是更好的选择

12
00:00:42,137 --> 00:00:46,900
这个视频主要是通过展示几道题目的多种解法

13
00:00:46,900 --> 00:00:51,400
来帮同学们更深刻地理解数数的基本方法

14
00:00:51,400 --> 00:00:54,962
个人认为，要用好数数的各个方法

15
00:00:54,962 --> 00:00:58,312
主要是靠扎实的分类讨论功底

16
00:00:58,312 --> 00:01:02,300
而分类讨论的能力只能在题目中锻炼

17
00:01:02,300 --> 00:01:06,412
所以我们在此只简单介绍这几种方法

18
00:01:06,412 --> 00:01:10,712
剩下的精力都用来展示题目的多种解法

19
00:01:10,712 --> 00:01:16,275
每种解法都理解后再回来看简介，学习效果会更好

20
00:01:16,275 --> 00:01:21,762
最后还会告诉大家怎么写代码来验证自己想法的正确性

21
00:01:21,762 --> 00:01:25,812
捆绑法非常符合直觉，在此不赘述

22
00:01:25,812 --> 00:01:29,762
在要求不相邻时都可以考虑插空法

23
00:01:29,762 --> 00:01:35,325
做法是先有一个基础排列，然后在空隙中插入元素

24
00:01:35,325 --> 00:01:39,462
值得强调的是，插空法先排谁都可以

25
00:01:39,462 --> 00:01:44,450
只要你有能力算出答案，八仙过海，各显神通嘛

26
00:01:44,450 --> 00:01:47,250
隔板法是一个套路模型

27
00:01:47,250 --> 00:01:52,112
求解的问题是是把n个相同的球分给m个不同的人

28
00:01:52,112 --> 00:01:56,825
用数学语言说就是m个变量加起来等于n

29
00:01:56,825 --> 00:01:59,262
变量只能取自然数

30
00:01:59,262 --> 00:02:01,937
对于这种最简单的情况

31
00:02:01,937 --> 00:02:06,300
想象有m-1个相同隔板隔开这n个球

32
00:02:06,300 --> 00:02:08,762
且隔板之间可以相邻

33
00:02:08,762 --> 00:02:13,225
这就相当于在 n+m-1 个相同空位中

34
00:02:13,225 --> 00:02:16,025
选 m-1 个作为隔板

35
00:02:16,025 --> 00:02:18,750
所以方案数就是这个

36
00:02:18,750 --> 00:02:22,275
如果变量只有大于等于几的限制

37
00:02:22,275 --> 00:02:27,100
那么只需要把下界减掉就能转化为上面的情况

38
00:02:27,100 --> 00:02:31,775
不过对于每个变量都大于等于1的特殊情况

39
00:02:31,775 --> 00:02:34,225
还有另一种理解方式

40
00:02:34,225 --> 00:02:38,975
就是在n-1个空位中选m-1个作为隔板

41
00:02:38,975 --> 00:02:41,387
这里展示了一道例题

42
00:02:41,387 --> 00:02:45,525
可以暂停视频算一下，强化肌肉记忆

43
00:02:45,525 --> 00:02:49,525
如果变量有上界限制，就需要容斥了

44
00:02:49,525 --> 00:02:54,287
这里空位太小，以后再慢慢做视频讨论了

45
00:02:54,287 --> 00:02:58,612
还有一种衍生模板题，在这里也先不讲

46
00:02:58,612 --> 00:03:03,125
感兴趣的同学可以看我这篇二一年写的博客

47
00:03:03,125 --> 00:03:06,562
这几种做法并不是水火不容的

48
00:03:06,562 --> 00:03:09,037
它们往往会一起出现

49
00:03:09,037 --> 00:03:12,825
大家在后面的7道题中慢慢体会吧

50
00:03:12,825 --> 00:03:14,125
第一题

51
00:03:14,125 --> 00:03:20,087
先排委员，然后小学生相当于在5个空位中选3个排列

52
00:03:20,087 --> 00:03:23,450
把两个排列数乘起来就做完了

53
00:03:23,450 --> 00:03:24,775
第二题

54
00:03:24,775 --> 00:03:28,537
有两种插空法和一种正难则反

55
00:03:28,537 --> 00:03:31,912
法1是先排好其他，再插D

56
00:03:31,912 --> 00:03:36,125
无论C在哪，D都是3种插入方案

57
00:03:36,125 --> 00:03:37,825
这就做完了

58
00:03:37,825 --> 00:03:40,875
法2是C和D一起考虑

59
00:03:40,875 --> 00:03:46,287
C和D不能相邻，所以需要在4个空位中选2个

60
00:03:46,287 --> 00:03:48,350
就是6种方案

61
00:03:48,350 --> 00:03:50,775
法3是正难则反

62
00:03:50,775 --> 00:03:56,025
被减去的方案数是捆绑了两个小团体，这就做完了

63
00:03:56,025 --> 00:04:00,062
相比于前两种做法，法3更简单

64
00:04:00,062 --> 00:04:01,562
第三题

65
00:04:01,562 --> 00:04:06,475
两侧完全一样，所以只需要求一侧的方案数

66
00:04:06,475 --> 00:04:08,912
要求柏树不相邻

67
00:04:08,912 --> 00:04:14,775
相当于在4棵松树的5个空位里选3个空位插入柏树

68
00:04:14,775 --> 00:04:19,187
方案数 C(5, 3)=10，答案就是100

69
00:04:19,187 --> 00:04:20,587
第四题

70
00:04:20,587 --> 00:04:25,700
和T2类似，有两种插空法和一种正难则反

71
00:04:25,700 --> 00:04:28,050
法1是正难则反

72
00:04:28,050 --> 00:04:33,762
AB绑起来的方案数减去ABC小团体的方案数就是答案

73
00:04:33,762 --> 00:04:38,950
ABC小团体里，A必须在中间才能同时相邻

74
00:04:38,950 --> 00:04:42,337
法2是先排好其他，再插C

75
00:04:42,337 --> 00:04:48,425
分类讨论发现，无论AB在哪，C能插的空位都是3个

76
00:04:48,425 --> 00:04:52,250
最后插AB的分类讨论和这个类似

77
00:04:52,250 --> 00:04:55,337
我们不妨归为同一种做法

78
00:04:55,337 --> 00:04:58,750
法3是类比T2的法2想到的

79
00:04:58,750 --> 00:05:03,650
分两类讨论：AB和C占不同和同一空位

80
00:05:03,650 --> 00:05:07,862
占不同空位，方案数是 A(3, 2)*2

81
00:05:07,862 --> 00:05:11,137
占同一空位，就和法1类似

82
00:05:11,137 --> 00:05:15,737
形成ABC小团体，方案数是2*3

83
00:05:15,737 --> 00:05:22,550
所以总方案数是2*(12+6)等于36

84
00:05:22,550 --> 00:05:23,925
第五题

85
00:05:23,925 --> 00:05:26,737
同样有两种插入顺序

86
00:05:26,737 --> 00:05:32,050
先排黄花，就相当于在5个空位里选3个放红花

87
00:05:32,050 --> 00:05:36,737
先排红花，就设4个空位各放多少黄花

88
00:05:36,737 --> 00:05:39,000
这里只有下界限制

89
00:05:39,000 --> 00:05:42,912
减去下界就得到标准的隔板法模型

90
00:05:42,912 --> 00:05:45,687
套公式也得到答案10

91
00:05:45,687 --> 00:05:47,112
第六题

92
00:05:47,112 --> 00:05:49,925
同样有两种插入顺序

93
00:05:49,925 --> 00:05:54,100
先排苹果，就和上一题先排红花一样

94
00:05:54,100 --> 00:05:57,712
减去下界拿到标准的隔板法模型

95
00:05:57,712 --> 00:06:00,562
最后记得对车全排列

96
00:06:00,562 --> 00:06:04,725
先排汽车，就和上一题先排黄花一样

97
00:06:05,650 --> 00:06:07,612
同学们发现了吗？

98
00:06:07,612 --> 00:06:13,525
T5和T6几乎是同一题，只是题干用了不同名词

99
00:06:13,525 --> 00:06:14,912
第七题

100
00:06:14,912 --> 00:06:19,475
正难则反很容易想，一个捆绑法就解决了

101
00:06:19,475 --> 00:06:23,112
但建议同学们看看法2和法3

102
00:06:23,112 --> 00:06:27,000
对把握插空法和隔板法大有好处

103
00:06:27,000 --> 00:06:29,425
法2先排女职工

104
00:06:29,425 --> 00:06:32,575
分别设4个空位的男性数量

105
00:06:32,575 --> 00:06:36,075
则限制是不能全聚在同一个空位

106
00:06:36,075 --> 00:06:40,550
套隔板法公式，再减去不合法的4种情况

107
00:06:40,550 --> 00:06:45,387
得到16，最后6*16*6得576

108
00:06:45,387 --> 00:06:48,012
法3先排男职工

109
00:06:48,012 --> 00:06:51,725
则限制是 x2+x3 不为0

110
00:06:51,725 --> 00:06:54,112
还是考虑正难则反

111
00:06:54,112 --> 00:07:00,175
得到 x2+x3=0 ，就是 x1+x4=3

112
00:07:00,175 --> 00:07:03,500
这就是另一个标准的隔板法模型

113
00:07:03,500 --> 00:07:07,875
方案数4，然后跟法2一样得到16

114
00:07:07,875 --> 00:07:11,037
后面过程就都跟法2一样了

115
00:07:11,037 --> 00:07:14,400
PPT右侧给了段JS代码

116
00:07:14,400 --> 00:07:18,512
复制粘贴到浏览器控制台回车运行

117
00:07:18,512 --> 00:07:21,087
就能确保我做法是对的

118
00:07:21,087 --> 00:07:26,575
代码用了深度优先搜索（dfs）来枚举所有情况

119
00:07:26,575 --> 00:07:30,812
以前做这种验证工作只能靠编程功底

120
00:07:30,812 --> 00:07:35,900
现在能动嘴说，连代码都不用改就直接做完了

121
00:07:35,900 --> 00:07:41,862
我是Hans，我正致力于为做题人的精神自留地添砖加瓦

122
00:07:41,862 --> 00:07:45,900
喜欢这期视频的话，别忘了一键三连哦

123
00:07:45,900 --> 00:07:47,500
谢谢观看

