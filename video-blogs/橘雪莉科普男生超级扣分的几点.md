---
theme: dracula
mdc: true
transition: slide-left
tags:
  - 数学模板
---

<SlidevPageRedirector />
<MovingWatermark />
<!-- <AutoSlide :timeList="[0, 0]" /> -->



---

1

```cpp
fac[i - 1] * i % mod;
1LL * i * ifac[i + 1] % mod;
```

2

```cpp
const int mod = 98244353;
const int mod = 100000007;
```

---

```cpp
inline void pushdown(int idx, int l, int r) {
  int mid = (l + r) >> 1;
  tnod[idx << 1].sum = (tnod[idx << 1].sum * tnod[idx].mul % MOD +
                        tnod[idx].add * (mid - l + 1LL) % MOD) % MOD;
  tnod[idx << 1].add = (tnod[idx << 1].add * tnod[idx].mul % MOD + tnod[idx].add) % MOD;
  tnod[idx << 1].mul = tnod[idx << 1].mul * tnod[idx].mul % MOD;
  tnod[idx << 1 | 1].sum = (tnod[idx << 1 | 1].sum * tnod[idx].mul % MOD +
                            tnod[idx].add * (r - mid) % MOD) % MOD;
  tnod[idx << 1 | 1].add = (tnod[idx << 1 | 1].add * tnod[idx].mul % MOD + tnod[idx].add) % MOD;
  tnod[idx << 1 | 1].mul = tnod[idx << 1 | 1].mul * tnod[idx].mul % MOD;
  tnod[idx].add = 0;
  tnod[idx].mul = 1;
}

void mul(int idx, int ql, int qr, LL v) {
  if (ql <= tnod[idx].l && qr >= tnod[idx].r) {
    tnod[idx].sum = tnod[idx].sum * v % MOD;
    tnod[idx].add = tnod[idx].add * v % MOD;
    tnod[idx].mul = tnod[idx].mul * v % MOD;
    return;
  }
  // pushdown(idx, tnod[idx].l, tnod[idx].r); // 少了这一行
  int mid = (tnod[idx].l + tnod[idx].r) >> 1;
  if (ql <= mid) mul(idx << 1, ql, qr, v);
  if (qr > mid) mul(idx << 1 | 1, ql, qr, v);
  tnod[idx].sum = (tnod[idx << 1].sum + tnod[idx << 1 | 1].sum) % MOD;
}
```

---

4

```cpp
vector<int> G[N];
while (T--) {
  for (int i = 1; i <= n; i++) g[i].clear();
}
```

5

```cpp
sort(a.begin(), b.end());
```

6

```cpp
int find(int x){
  return fa[x] == x ? x : find(fa[x]);
}
```

---

7

```cpp
// 这样容易忘记
addedge(u, v, w); // 正向边
addedge(v, u, 0); // 反向边
// 这样就不会忘记
void add(int u, int v, int w) {
  nxt[++cnt] = hd[u], hd[u] = cnt, to[cnt] = v, limit[cnt] = w;
  nxt[++cnt] = hd[v], hd[v] = cnt, to[cnt] = u, limit[cnt] = 0;
}
```

---

8

```cpp
// 少打一个 dfn 就 debug 到天荒地老
int qry_route(int x, int y) {
  int res = 0;
  while (top[x] != top[y]) {
    if (dep[top[x]] < dep[top[y]]) swap(x, y);
    res = (res + query(1, 1, n, dfn[top[x]], dfn[x])) % mod; // 线段树 query
    x = fa[top[x]];
  }
  if (dep[x] > dep[y]) swap(x, y);
  res = (res + query(1, 1, n, dfn[x], dfn[y])) % mod;
  return res;
}
void upd_route(int x, int y, int val) {
  while (top[x] != top[y]) {
    if (dep[top[x]] < dep[top[y]]) swap(x, y);
    update(1, 1, n, dfn[top[x]], dfn[x], val);
    x = fa[top[x]];
  }
  if (dep[x] > dep[y]) swap(x, y);
  update(1, 1, n, dfn[x], dfn[y], val); // 线段树 update
}
```

---

9

```cpp
// 关闭同步流
ios::sync_with_stdio(false);
cin.tie(nullptr);
cout << 114514 << endl;
printf("%d\n", 1919810);
```

---
layout: center
class: text-center
---

# 后记

<span class="text-orange font-bold">为做题人的精神自留地添砖加瓦</span>

<span class="text-pink font-bold border border-pink px-2 py-1 rounded-lg">喜欢本期视频的话，别忘了点赞、收藏、关注喔</span>

谢谢观看~
